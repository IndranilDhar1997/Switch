<div ng-controller="CardHolderController" id="CardHolderScreen" ng-init="init()">
    <ons-page modifier="full_bg">
        <div class="container-fluid">
                <div class="backdrop"></div>
                <div class="row navbar-alignment color-bg">
                    <div class="col col-2 text-white strong">
                        <div class="flex-grow-1">
                            <i class="fas fa-arrow-left" ng-click="backButton()"></i>
                        </div>
                    </div>
                    <div class="col col-7 text-white strong">
                        <div class="d-flex ">
                            <div class="flex-grow-1 navbar-header text-center">
                                Card Holder
                            </div>
                        </div>   
                    </div> 
                    <div class="col col-3">
                        <div class="flex-shrink-1 right">
                            <button class="btn btn-fused-white btn-sm bg-light" ng-click="cardHolderModal(holderStatus)">Add</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="margin-bottom-20 margin-top-10">
                <div ng-repeat="ch in cardHolders">
                    <div class="padding-right-5 padding-left-5">
                        <div class="card-header card-header-container">
                            <div class="d-flex bd-highlight">
                                <div class="w-100 margin-left-5">
                                    <i class="fas fa-user-edit card-holder-icon"></i>
                                    <div class="p-2 w-100 bd-highlight">{{ch.name}}</div>
                                </div>
                                <div class="flex-shrink-1 margin-right-5">
                                    <div class="bd-highlight" style="float: right"
                                        ng-click="getMyCards(ch._id)"><i class="fas fa-arrow-right"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex bd-highlight">
                                <div class="p-2 flex-grow-1 bd-highlight">
                                    <div ng-show="ch.limit" class="strong text-15">
                                        <i class="fas fa-id-card-alt margin-right-5"></i>{{ch._cards.length}}/<strong>{{ch.limit}}</strong>
                                    </div>
                                </div>
                                <div class="card-body left-text margin-right-5">
                                    <div ng-if="ch.qrcode">
                                        <button class="btn btn-secondary btn-sm" ng-click="convertQrcode(ch.qrcode)"><i class="fas fa-qrcode"></i></button>
                                    </div>
                                </div>
                                <div class="margin-right-5 bd-highlight">
                                    <button class="btn btn-danger btn-sm" ng-click="delete_cardHolder(ch._id)">
                                        <i class="far fa-trash-alt"></i>
                                    </button>
                                </div>
                                <div class="bd-highlight">
                                    <button class="btn btn-info btn-sm base-color" ng-click="edit_cardHolder(ch._id)">
                                        <i class="far fa-edit"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </ons-page>
    <div ng-include="'./views/LoggedIn/CardHolders/component/modal-cardHolder.html'"></div>
    <div ng-include="'./views/LoggedIn/CardHolders/component/editHolderModal.html'"></div>
</div>